:root{
  --cp-backdrop-blur: 6px;
  --cp-backdrop-dim: 0.14;
  --cp-shell-alpha: 0.06;      
  --cp-shell-shadow: 0 30px 80px -28px rgba(0,0,0,0.62);
  --cp-font: 17px;            
  --cp-font-big: 1.35rem;       
  --cp-inline-math: 1.12rem;     
}

.cp-root{ position: fixed; inset: 0; z-index: 2500; pointer-events: none; }

.cp-overlay{
  position: absolute; inset: 0;
  background: rgba(0,0,0,var(--cp-backdrop-dim));
  backdrop-filter: blur(var(--cp-backdrop-blur));
  -webkit-backdrop-filter: blur(var(--cp-backdrop-blur));
  pointer-events: auto;
}

.cp-center{
  position: absolute; inset: 0;
  display: grid;
  place-items: center;           
  min-height: 100dvh;            
  pointer-events: none;
  padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
}

.cp-shell{
  width: min(900px, 92vw);
  padding: 16px 18px 14px;
  border-radius: 16px;
  background: rgba(12,12,12,var(--cp-shell-alpha)); 
  box-shadow: var(--cp-shell-shadow);
  pointer-events: auto;
  border: none;
}

.cp-input{
  width: 100%;
  font-size: calc(var(--cp-font) + 1px); 
  padding: 14px 16px;
  border: none; outline: none;
  border-radius: 12px;
  color: #f7f7f7;
  background: rgba(255,255,255,0.10);
}
.cp-input::placeholder{ color: rgba(247,247,247,0.64); }

.cp-results{
  margin-top: 10px;
  max-height: 42vh;
  overflow: auto;
  scrollbar-width: thin;
}

.cp-row{
  font-size: var(--cp-font);
  line-height: 1.6;
  color: rgba(248,248,248,0.98);
  padding: 6px 2px;
}
.cp-row.big .k{ font-size: var(--cp-font-big); }

.cp-row.err{ color: #ffb6b6; }

.mono{ font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; }

.k, .k .base { color: #fbfbfb; font-size: var(--cp-inline-math); }
.k.blk { display: block; }

.mr12 { margin-right: 12px; }

@media (max-width: 640px) {
  :root{
    --cp-backdrop-blur: 3px;     
    --cp-backdrop-dim: 0.18;      
    --cp-shell-alpha: 0.10;     
    --cp-font: 18px;              
    --cp-font-big: 1.5rem;
    --cp-inline-math: 1.2rem;
  }

  .cp-center{
    place-items: end center;       
    padding-bottom: max(12px, env(safe-area-inset-bottom));
    padding-left: max(8px, env(safe-area-inset-left));
    padding-right: max(8px, env(safe-area-inset-right));
  }

  .cp-shell{
    width: 100vw;
    max-width: 100vw;
    border-radius: 14px 14px 0 0;
    padding: 14px 14px 12px;
    box-shadow: 0 -6px 40px -20px rgba(0,0,0,0.55);
  }

  .cp-input{
    padding: 16px 16px;
    border-radius: 14px;
  }

  .cp-results{
    max-height: 60vh;  
  }
}

@media (prefers-reduced-motion: reduce) {
  .cp-overlay { transition: none !important; }
  .cp-shell { transition: none !important; }
}